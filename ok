library(shiny)
library(dplyr)
library(DT)
library(ggplot2)
library(shinydashboard)
library(plotly)

ui <- dashboardPage(
  dashboardHeader(title = "Nutrition Calculator"),
  dashboardSidebar(
    ),
  dashboardBody(
    fluidRow(
      valueBoxOutput("calories"),
      valueBoxOutput("over_nutrient"),
      valueBoxOutput("rich_nutrient")
    ),
    fluidRow(
      box(title = "Ingredients",
          solidHeader = T,
          width = 4,
          collapsible = T,
          div(DT::DTOutput("ing_df"), style = "font-size: 70%;")),
      box(title = "Macronutrients", solidHeader = T,
          width = 8, collapsible = T,
          plotlyOutput("macro_plot"))
    ), # row
    fluidRow(
      box(title = "Nutrition Table",
          solidHeader = T,
          width = 4, 
          collapsible = T,
          collapsed = F,
          tags$p(textOutput("serving", inline = T)),
          div(DT::DTOutput("nutrient_table"), style = "font-size: 70%;")),
      box(title = "Minerals", solidHeader = T,
          width = 8, collapsible = T,
          plotlyOutput("mineral_plot"))
    ),# row
    fluidRow(
      box(title = "Vitamins", solidHeader=T,
          width = 12, collapsible = T,
          plotlyOutput("vitamin_plot"))
    ) # row
  ) # body

)

# Define server logic required to draw a histogram
server <- function(input, output, session) {
 
}

# Run the application 
shinyApp(ui = ui, server = server)
